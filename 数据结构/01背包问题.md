**01背包问题**：一般采用**动态规划**算法来求解。

问题描述：给定n种物品和一个容量为C的背包，物品体积为Wi,价值为Vi。怎样选择装入物品进背包，背包中物品价值最大？不能装入物品的某一部分，也不能重复装某件物品。

解析：

对于每个物品，有装进背包和不装进背包两种选择，对于背包，装入物品体积过大，将会导致装入物品数量少，装入体积小，价值将不会最大，因此要尽可能的有合适的选择。

比如有abcde五个物品需要装入体积为10的背包中；

| name | weight | value |  1   |  2   |  3   |  4   |  5   |  6   |  7   |  8   |  9   |  10  |
| :--: | :----: | :---: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: | :--: |
|  0   |   2    |   6   |  0   |  6   |  6   |  6   |  6   |  6   |  6   |  6   |  6   |  6   |
|  1   |   2    |   3   |  0   |  6   |  6   |  9   |  9   |  9   |  9   |  9   |  9   |  9   |
|  2   |   6    |   5   |  0   |  6   |  6   |  9   |  9   |  9   |  9   |  11  |  11  |  14  |
|  3   |   5    |   4   |  0   |  6   |  6   |  9   |  9   |  9   |  10  |  10  |  13  |  14  |
|  4   |   4    |   6   |  0   |  6   |  6   |  9   |  9   |  12  |  12  |  12  |  15  |  15  |

- 当背包容量比当前物品体积小时，该物品不放入背包，此时最大价值为上一个物品的最大价值。
- 当前背包容量比当前物品体积大时：
  - 放入该物品：可以先用此时背包容量减当前物品的体积，然后用该物品的价值与减掉该物品后的体积时背包容量的最大价值的和；比如：背包容量为4时，选择将b号物品放入，就用4-2=2，此时用背包容量为2的最大价值与b号物品的价值相加，即6+3=9；
  - 不放入该物品：此时最大的价值为上一个物品的最大价值。
  - 此时当前背包容量的最大价值为两种放物品方式的最大值。


可以推导出状态转移公式：

```c
/*
*j:当前背包体积
*i:当前物品编号
*weight[i]:当前物品体积
*value[i]:当前物品价值
*/
if(weight[i] > j)
	f[i][j] = f[i - 1][j];
if(weight[i] <= j)
	f[i][j] = max(f[i - 1][j],value[i] + f[i - 1][j - weight[i]]);
```

若需要求具体装入了那些物品，可使用**回溯算法**进行求解：

在上述的状态转移表中，判断当前物品是否装入，可以将当前物品装入和不装入的价值做比较：

- 若没有装入当前物品，则此时的价值与上一个物品的最大价值相等；
- 若不相等，则装入了当前物品，然后用此时背包的容量减当前物品的体积，然后用此时的背包体积回溯到上一个物品，用同样的方法计算、回溯，直到将所有的装入物品找到。

**01背包装满问题**

